# SpeedPortal
SpeedPortal - веб-платформа для размещения и просмотра спидранов пользователей в разных играх и категориях. Авторизованный пользователь может оставить заявку на размещение его рана в общей таблице, модератор должен будет его проверить на валидность и принять решение - публиковать его или нет
# ТЗ по БД
## Описание
### Общее описание
SpeedPortal - веб-платформа для размещения и просмотра спидранов пользователей в разных играх и категориях. Авторизованный пользователь может оставить заявку на размещение его рана в общей таблице, модератор должен будет его проверить на валидность и принять решение - публиковать его или нет  

За одобренные раны пользователи получают очки, количество которых зависит от места, которое занял ран в общей таблице
### Предметная область
Предметная область включает следующие сущности:
* Пользователь
* Игра
* Категория спидрана
* Ран (забег)
* Комментарий к рану
## Данные
### Пользователь
Должны храниться следующие данные о пользователе
* Имя пользователя (уникальное)
* Адрес электронной почты (уникальный)
* Пароль
* Изображение профиля (аватар)
* Количество набранных очков
* Биография ("о себе")
* Является ли пользователь модератором, если да, то какие имеет полномочия
* Забанен ли пользователь, если да, то причина бана

Модераторы имеют полномочия только в рамках своей "компетенции", то есть перечня игр, в которых они могут объективно оценивать валидность рана
### Игра
Должны храниться следующие данные об игре
* Название (уникальное)
* Ссылка на игру в Steam (уникальная)
* Иконка
* Банер
* Описание
* Доступные категории спидранов  

Для категорий в свою очередь требуется хранить их уникальное название и описание  

Игры добавляются администратором - некоторый набор самых популярных добавляются на этапе развертывания, в последствии в зависимости от пожеланий аудитории добавляются новые, когда платформа в работе  

Категории могут быть добавлены модератором при наличии соответствующих полномочий
### Ран
Должна храниться следующая информация о ране
* Игра
* Категория
* Пользователь, загрузивший ран
* Время пробега (положительное целое число миллисекунд)
* Ссылка на видео с раном
* Статус рана - на рассмотрении, принят, отклонен, идентификатор модератора, проверявшего ран, если отклонен, то причина отказа, если принят, то сколько очков за него зачислено пользователю

Одобренные раны отображаются в общей таблице и могут быть просмотрены любым, возможно, неавторизованным, пользователем  

Нерасмотренные раны могут просматривать модераторы в специальной таблице и, при наличии полномочий, одобрять или отклонять их  

Чужие нерасмотренные или отклоненные раны могут быть просмотрены обычными пользователями только при наличии прямой ссылки, в общих таблицах и где-либо еще они не отображаются  

В момент одобрения забега происходит автоматическое пополнение очков пользователя, количество очков высчитывается путем некоторого анализа таблицы забегов
### Комментарий
* Идентификатор комментируемого забега
* Идентификатор пользователя, оставившего комментарий
* Текст комментария  

Комментарии могут просматривать все пользователи, авторизованные и неавторизованные
### Жалоба
* Идентификатор забега, на который пожаловались
* Идентификатор пользователя, который пожаловался
* Текст жалобы  

Жалобы могут просматриваться только модераторами соответствующей компетенции, при наличии жалоб и соответствующих полномочий модератор может забанить автора забегов, на которые поступали жалобы
## Пользовательские роли
### Неавторизованный пользователь
Неавторизованный пользователь имеет следующие возможности:
* Просмотреть таблицу ранов различных игр в различных категориях
### Авторизованный пользователей
Авторизованный пользователь имеет следующие возможности:
* Просмотреть таблицу ранов различных игр в различных категориях
* Подать заявку на внесение рана в общую таблицу
* Прокомментировать ран
* Пожаловаться на ран или комментарий
### Модератор
Каждый модератор имеет свою "компетенцию" - перечень игр, в отношении которых он может реализовывать свои полномочия. Подобные ограничения следуют из того, что для объективной оценки валидности спидрана по какой-либо игре, требуется глубокое знание механик и хитростей этой игры  

Модератор обладает следующими возможностями в рамках своей компетенции:
* Просмотр заявок на внесение ранов в таблицу
* Одобрение/отклонение этих заявок (модератор не может одобрить свой же ран)
* Добавление категорий (при наличии полномочия)
* Повышение других пользователей до модераторов такой же или меньшей компетенции (при наличии полномочия)
* Бан пользователей при наличии жалоб (при наличии полномочия)
### Администратор
Администратор имеет все возможности модератора во всех компетенциях и имеет прямой доступ к таблицам базы данных
## UI / API
Проект реализовывается в виде веб-сайта  

Некоторые примеры пользовательских сценариев: https://miro.com/app/board/uXjVNWTr088=/?share_link_id=814595914918
## Технологии разработки
### Языки программирования
* Python Django
* JS
### СУБД
PostgreSQL
## Тестирование
* Модульное тестирование - создание наборов входных данных для каждой функции и проверка на правильность выходных данных
* Тестирование параметров доступа - например, проверка на то, что обычный пользователь не может воспользоваться функциями модератора
* Тестирование пользователького интерфейса - проверка интерфейса на корректность отображения всех элементов в различных условиях
* Тестирование пользовательских сценариев - создание типичных пользовательских сценариев и проверка на правильность их обработки приложением
## Структура БД
https://lucid.app/lucidchart/3beae458-0ca5-4f42-a3f4-27d3898f9cbf/edit?invitationId=inv_a228f947-7b3c-4cc9-b814-717159d768d9
![Dbtest](https://github.com/Karkusha23/Web_SpeedPortal/assets/16138259/390d72c1-ebc9-425f-a363-05ac96cd0a8d)

